{% extends "base.html" %}

{% block title %}
Mentora Â· Stress Level Assessment
{% endblock %}

{% block head_extra %}
<style>
    .material-symbols-outlined {
        font-variation-settings:
            'FILL' 0,
            'wght' 400,
            'GRAD' 0,
            'opsz' 24
    }

    .option-pill {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.5rem 1rem;
        border-radius: 0.375rem;
        border: 1px solid #e5e7eb;
        cursor: pointer;
        font-size: 0.875rem;
        font-weight: 500;
        transition: all 0.2s;
    }

    .option-pill:hover {
        border-color: rgb(20 184 166);
        background: rgba(20, 184, 166, 0.05);
    }

    .option-pill:has(:checked) {
        border-color: rgb(20 184 166);
        background: rgba(20, 184, 166, 0.1);
    }

    input[type=range]::-webkit-slider-thumb {
        -webkit-appearance: none;
        height: 16px;
        width: 16px;
        border-radius: 50%;
        background: rgb(20 184 166);
        /* matches primary */
        cursor: pointer;
        margin-top: -6px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
    }

    input[type=range]::-moz-range-thumb {
        height: 16px;
        width: 16px;
        border: none;
        border-radius: 50%;
        background: rgb(20 184 166);
        /* matches primary */
        cursor: pointer;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
    }

    input[type=range]::-webkit-slider-runnable-track {
        width: 100%;
        height: 4px;
        cursor: pointer;
        background: #e5e7eb;
        border-radius: 2px;
    }
</style>
{% endblock %}

{% block header %}
<h1 class="text-lg font-semibold">Stress Level Assessment</h1>
{% endblock %}

{% block content %}

<div class="flex flex-1 justify-center bg-background-light">
    <div class="layout-content-container flex flex-col w-full flex-1">
        <div class="mb-4 bg-white rounded-xl p-4 shadow-soft border border-gray-200">
            <div class="flex justify-between text-xs font-semibold text-gray-500 mb-2">
                <span>Step <span id="currentStep">1</span> of <span id="totalSteps">4</span></span>
                <span id="progressPercent">0%</span>
            </div>
            <div class="w-full bg-gray-200 h-2 rounded-full overflow-hidden">
                <div id="progressBar" class="bg-primary h-full rounded-full transition-all duration-300"
                    style="width:0%">
                </div>
            </div>
        </div>

        <form class="flex flex-col gap-6">
            <section class="form-step bg-white rounded-xl shadow-soft p-6 border border-gray-100" data-step="1">

                <div class="flex items-center gap-3 mb-4 border-b border-gray-100 pb-4">
                    <div class="flex items-center justify-center size-8 rounded-full bg-primary-light text-primary">
                        <span class="material-symbols-outlined text-lg">psychology</span>
                    </div>
                    <h2 class="text-lg font-bold text-text-primary">Mental Health</h2>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div
                        class="flex flex-col gap-3 rounded-lg border border-gray-200 bg-gray-50/60 px-4 py-4 shadow-sm">
                        <p class="text-sm font-semibold text-text-primary tracking-wide">Anxiety Level</p>
                        <div class="flex flex-wrap gap-3">
                            <label class="option-pill"><input type="radio" name="anxiety" value="2"
                                    class="accent-primary"> <span>Very Low</span></label>
                            <label class="option-pill"><input type="radio" name="anxiety" value="4"
                                    class="accent-primary"> <span>Low</span></label>
                            <label class="option-pill"><input type="radio" name="anxiety" value="6"
                                    class="accent-primary"> <span>Moderate</span></label>
                            <label class="option-pill"><input type="radio" name="anxiety" value="8"
                                    class="accent-primary"> <span>High</span></label>
                            <label class="option-pill"><input type="radio" name="anxiety" value="10"
                                    class="accent-primary"> <span>Very High</span></label>
                        </div>
                    </div>

                    <div
                        class="flex flex-col gap-3 rounded-lg border border-gray-200 bg-gray-50/60 px-4 py-4 shadow-sm">
                        <p class="text-sm font-semibold text-text-primary tracking-wide">Depression Level</p>
                        <div class="flex flex-wrap gap-3">
                            <label class="option-pill"><input type="radio" name="depression" value="2"> <span>Very
                                    Low</span></label>
                            <label class="option-pill"><input type="radio" name="depression" value="4">
                                <span>Low</span></label>
                            <label class="option-pill"><input type="radio" name="depression" value="6">
                                <span>Moderate</span></label>
                            <label class="option-pill"><input type="radio" name="depression" value="8">
                                <span>High</span></label>
                            <label class="option-pill"><input type="radio" name="depression" value="10"> <span>Very
                                    High</span></label>
                        </div>
                    </div>

                    <div
                        class="flex flex-col gap-3 rounded-lg border border-gray-200 bg-gray-50/60 px-4 py-4 shadow-sm">
                        <p class="text-sm font-semibold text-text-primary tracking-wide">Self Esteem</p>
                        <div class="flex flex-wrap gap-3">
                            <label class="option-pill"><input type="radio" name="self_esteem" value="2">
                                <span>Low</span></label>
                            <label class="option-pill"><input type="radio" name="self_esteem" value="6">
                                <span>Average</span></label>
                            <label class="option-pill"><input type="radio" name="self_esteem" value="10">
                                <span>High</span></label>
                        </div>
                    </div>

                    <div
                        class="flex flex-col gap-3 rounded-lg border border-gray-200 bg-gray-50/60 px-4 py-4 shadow-sm">
                        <p class="text-sm font-semibold text-text-primary tracking-wide">History of Mental Illness</p>
                        <div class="flex flex-wrap gap-3">
                            <label class="option-pill"><input type="radio" name="mental_history" value="0">
                                <span>No</span></label>
                            <label class="option-pill"><input type="radio" name="mental_history" value="1">
                                <span>Yes</span></label>
                        </div>
                    </div>

                    <div
                        class="flex flex-col gap-3 rounded-lg border border-gray-200 bg-gray-50/60 px-4 py-4 shadow-sm md:col-span-2">
                        <p class="text-sm font-semibold text-text-primary tracking-wide">Sleep Quality</p>
                        <div class="flex flex-wrap gap-3">
                            <label class="option-pill"><input type="radio" name="sleep_quality" value="2"> <span>Very
                                    Poor</span></label>
                            <label class="option-pill"><input type="radio" name="sleep_quality" value="4">
                                <span>Poor</span></label>
                            <label class="option-pill"><input type="radio" name="sleep_quality" value="6">
                                <span>Average</span></label>
                            <label class="option-pill"><input type="radio" name="sleep_quality" value="8">
                                <span>Good</span></label>
                            <label class="option-pill"><input type="radio" name="sleep_quality" value="10">
                                <span>Excellent</span></label>
                        </div>
                    </div>

                </div>
            </section>
            <section class="form-step bg-white rounded-xl shadow-soft p-6 border border-gray-200" data-step="2">
                <div class="flex items-center gap-3 mb-4 border-b border-gray-100 pb-4">
                    <div class="flex items-center justify-center size-8 rounded-full bg-primary-light text-primary">
                        <span class="material-symbols-outlined text-lg">cardiology</span>
                    </div>
                    <h2 class="text-lg font-bold text-text-primary">Physical Health</h2>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">

                    <div
                        class="flex flex-col gap-3 rounded-lg border border-gray-200 bg-gray-50/60 px-4 py-4 shadow-sm">
                        <p class="text-sm font-semibold text-text-primary tracking-wide">Headache Frequency</p>
                        <div class="flex flex-wrap gap-3">
                            <label class="option-pill"><input type="radio" name="headache" value="2">
                                <span>Never</span></label>
                            <label class="option-pill"><input type="radio" name="headache" value="4">
                                <span>Rarely</span></label>
                            <label class="option-pill"><input type="radio" name="headache" value="6">
                                <span>Sometimes</span></label>
                            <label class="option-pill"><input type="radio" name="headache" value="8">
                                <span>Often</span></label>
                            <label class="option-pill"><input type="radio" name="headache" value="10">
                                <span>Chronic</span></label>
                        </div>
                    </div>

                    <div
                        class="flex flex-col gap-3 rounded-lg border border-gray-200 bg-gray-50/60 px-4 py-4 shadow-sm">
                        <p class="text-sm font-semibold text-text-primary tracking-wide">Blood Pressure Issues</p>
                        <div class="flex flex-wrap gap-3">
                            <label class="option-pill"><input type="radio" name="blood_pressure" value="0">
                                <span>Normal</span></label>
                            <label class="option-pill"><input type="radio" name="blood_pressure" value="1">
                                <span>High</span></label>
                            <label class="option-pill"><input type="radio" name="blood_pressure" value="2">
                                <span>Low</span></label>
                        </div>
                    </div>


                    <div
                        class="flex flex-col gap-3 rounded-lg border border-gray-200 bg-gray-50/60 px-4 py-4 shadow-sm">
                        <p class="text-sm font-semibold text-text-primary tracking-wide">Breathing Problems</p>
                        <div class="flex flex-wrap gap-3">
                            <label class="option-pill"><input type="radio" name="breathing" value="no">
                                <span>No</span></label>
                            <label class="option-pill"><input type="radio" name="breathing" value="yes">
                                <span>Yes</span></label>
                        </div>
                    </div>

                    <div
                        class="flex flex-col gap-3 rounded-lg border border-gray-200 bg-gray-50/60 px-4 py-4 shadow-sm">
                        <p class="text-sm font-semibold text-text-primary tracking-wide">Living Conditions</p>
                        <div class="flex flex-wrap gap-3">
                            <label class="option-pill"><input type="radio" name="living_conditions" value="2">
                                <span>Poor</span></label>
                            <label class="option-pill"><input type="radio" name="living_conditions" value="6">
                                <span>Average</span></label>
                            <label class="option-pill"><input type="radio" name="living_conditions" value="10">
                                <span>Good</span></label>
                        </div>
                    </div>


                    <div
                        class="flex flex-col gap-3 rounded-lg border border-gray-200 bg-gray-50/60 px-4 py-4 shadow-sm md:col-span-2">
                        <p class="text-sm font-semibold text-text-primary tracking-wide">Environmental Noise Level</p>
                        <div class="flex flex-wrap gap-3">
                            <label class="option-pill"><input type="radio" name="noise_level" value="2"> <span>Very
                                    Quiet</span></label>
                            <label class="option-pill"><input type="radio" name="noise_level" value="4">
                                <span>Quiet</span></label>
                            <label class="option-pill"><input type="radio" name="noise_level" value="6">
                                <span>Moderate</span></label>
                            <label class="option-pill"><input type="radio" name="noise_level" value="8">
                                <span>Loud</span></label>
                            <label class="option-pill"><input type="radio" name="noise_level" value="10"> <span>Very
                                    Loud</span></label>
                        </div>
                    </div>


                </div>
            </section>
            <section class="form-step bg-white rounded-xl shadow-soft p-6 border border-gray-200" data-step="3">
                <div class="flex items-center gap-3 mb-4 border-b border-gray-100 pb-4">
                    <div class="flex items-center justify-center size-8 rounded-full bg-primary-light text-primary">
                        <span class="material-symbols-outlined text-lg">school</span>
                    </div>
                    <h2 class="text-lg font-bold text-text-primary">Academic Factors</h2>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="w-full">
                        <label class="block text-sm font-medium text-text-primary mb-1.5" for="gpa">Academic
                            Performance (GPA/10)</label>
                        <input
                            class="w-full rounded-lg border-gray-300 bg-white px-3 py-2 text-sm text-text-primary placeholder-gray-400 focus:border-teal-primary focus:ring-teal-primary"
                            id="gpa" max="10" min="0" placeholder="e.g. 7.5" step="0.1" type="number" />
                    </div>
                    <div class="w-full">
                        <label class="block text-sm font-medium text-text-primary mb-1.5" for="study-load">Daily Study
                            Load (Hours)</label>
                        <input
                            class="w-full rounded-lg border-gray-300 bg-white px-3 py-2 text-sm text-text-primary placeholder-gray-400 focus:border-teal-primary focus:ring-teal-primary"
                            id="study-load" max="24" min="0" placeholder="e.g. 6" type="number" />
                    </div>

                    <div
                        class="flex flex-col gap-3 rounded-lg border border-gray-200 bg-gray-50/60 px-4 py-4 shadow-sm">
                        <p class="text-sm font-semibold text-text-primary tracking-wide">Relationship with Teachers</p>
                        <div class="flex flex-wrap gap-3">
                            <label class="option-pill"><input type="radio" name="teacher_relation" value="2"> <span>Very
                                    Poor</span></label>
                            <label class="option-pill"><input type="radio" name="teacher_relation" value="4">
                                <span>Poor</span></label>
                            <label class="option-pill"><input type="radio" name="teacher_relation" value="6">
                                <span>Average</span></label>
                            <label class="option-pill"><input type="radio" name="teacher_relation" value="8">
                                <span>Good</span></label>
                            <label class="option-pill"><input type="radio" name="teacher_relation" value="10">
                                <span>Very Good</span></label>
                        </div>
                    </div>


                    <div
                        class="flex flex-col gap-3 rounded-lg border border-gray-200 bg-gray-50/60 px-4 py-4 shadow-sm">
                        <p class="text-sm font-semibold text-text-primary tracking-wide">Future Career Anxiety</p>
                        <div class="flex flex-wrap gap-3">
                            <label class="option-pill"><input type="radio" name="career_anxiety" value="2"> <span>Very
                                    Low</span></label>
                            <label class="option-pill"><input type="radio" name="career_anxiety" value="4">
                                <span>Low</span></label>
                            <label class="option-pill"><input type="radio" name="career_anxiety" value="6">
                                <span>Moderate</span></label>
                            <label class="option-pill"><input type="radio" name="career_anxiety" value="8">
                                <span>High</span></label>
                            <label class="option-pill"><input type="radio" name="career_anxiety" value="10"> <span>Very
                                    High</span></label>
                        </div>
                    </div>


                    <div
                        class="flex flex-col gap-3 rounded-lg border border-gray-200 bg-gray-50/60 px-4 py-4 shadow-sm md:col-span-2">
                        <p class="text-sm font-semibold text-text-primary tracking-wide">Peer Pressure Level</p>
                        <div class="flex flex-wrap gap-3">
                            <label class="option-pill"><input type="radio" name="peer_pressure" value="2">
                                <span>None</span></label>
                            <label class="option-pill"><input type="radio" name="peer_pressure" value="4">
                                <span>Low</span></label>
                            <label class="option-pill"><input type="radio" name="peer_pressure" value="6">
                                <span>Moderate</span></label>
                            <label class="option-pill"><input type="radio" name="peer_pressure" value="8">
                                <span>High</span></label>
                            <label class="option-pill"><input type="radio" name="peer_pressure" value="10"> <span>Very
                                    High</span></label>
                        </div>
                    </div>


                </div>
            </section>
            <section class="form-step bg-white rounded-xl shadow-soft p-6 border border-gray-200" data-step="4">
                <div class="flex items-center gap-3 mb-4 border-b border-gray-100 pb-4">
                    <div class="flex items-center justify-center size-8 rounded-full bg-primary-light text-primary">
                        <span class="material-symbols-outlined text-lg">groups</span>
                    </div>
                    <h2 class="text-lg font-bold text-text-primary">Social Factors</h2>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div
                        class="flex flex-col gap-3 rounded-lg border border-gray-200 bg-gray-50/60 px-4 py-4 shadow-sm">
                        <p class="text-sm font-semibold text-text-primary tracking-wide">Extracurricular Activities</p>
                        <div class="flex flex-wrap gap-3">
                            <label class="option-pill"><input type="radio" name="extracurricular" value="1">
                                <span>Yes</span></label>
                            <label class="option-pill"><input type="radio" name="extracurricular" value="0">
                                <span>No</span></label>
                        </div>
                    </div>


                    <div
                        class="flex flex-col gap-3 rounded-lg border border-gray-200 bg-gray-50/60 px-4 py-4 shadow-sm">
                        <p class="text-sm font-semibold text-text-primary tracking-wide">Bullying / Harassment</p>
                        <div class="flex flex-wrap gap-3">
                            <label class="option-pill"><input type="radio" name="bullying" value="1">
                                <span>Yes</span></label>
                            <label class="option-pill"><input type="radio" name="bullying" value="0">
                                <span>No</span></label>
                        </div>
                    </div>


                    <div
                        class="flex flex-col gap-3 rounded-lg border border-gray-200 bg-gray-50/60 px-4 py-4 shadow-sm">
                        <p class="text-sm font-semibold text-text-primary tracking-wide">Social Support</p>
                        <div class="flex flex-wrap gap-3">
                            <label class="option-pill"><input type="radio" name="social_support" value="2"> <span>Very
                                    Weak</span></label>
                            <label class="option-pill"><input type="radio" name="social_support" value="4">
                                <span>Weak</span></label>
                            <label class="option-pill"><input type="radio" name="social_support" value="6">
                                <span>Moderate</span></label>
                            <label class="option-pill"><input type="radio" name="social_support" value="8">
                                <span>Strong</span></label>
                            <label class="option-pill"><input type="radio" name="social_support" value="10"> <span>Very
                                    Strong</span></label>
                        </div>
                    </div>


                    <div
                        class="flex flex-col gap-3 rounded-lg border border-gray-200 bg-gray-50/60 px-4 py-4 shadow-sm">
                        <p class="text-sm font-semibold text-text-primary tracking-wide">Financial Stress</p>
                        <div class="flex flex-wrap gap-3">
                            <label class="option-pill"><input type="radio" name="financial_stress" value="2">
                                <span>None</span></label>
                            <label class="option-pill"><input type="radio" name="financial_stress" value="4">
                                <span>Low</span></label>
                            <label class="option-pill"><input type="radio" name="financial_stress" value="6">
                                <span>Moderate</span></label>
                            <label class="option-pill"><input type="radio" name="financial_stress" value="8">
                                <span>High</span></label>
                            <label class="option-pill"><input type="radio" name="financial_stress" value="10">
                                <span>Very High</span></label>
                        </div>
                    </div>


                    <div
                        class="flex flex-col gap-3 rounded-lg border border-gray-200 bg-gray-50/60 px-4 py-4 shadow-sm md:col-span-2">
                        <p class="text-sm font-semibold text-text-primary tracking-wide">Campus Safety Perception</p>
                        <div class="flex flex-wrap gap-3">
                            <label class="option-pill"><input type="radio" name="campus_safety" value="2"> <span>Very
                                    Unsafe</span></label>
                            <label class="option-pill"><input type="radio" name="campus_safety" value="4">
                                <span>Unsafe</span></label>
                            <label class="option-pill"><input type="radio" name="campus_safety" value="6">
                                <span>Neutral</span></label>
                            <label class="option-pill"><input type="radio" name="campus_safety" value="8">
                                <span>Safe</span></label>
                            <label class="option-pill"><input type="radio" name="campus_safety" value="10"> <span>Very
                                    Safe</span></label>
                        </div>
                    </div>


                </div>
            </section>
            <section
                class="hidden bg-white rounded-xl shadow-soft p-6 border-l-4 border-yellow-500 animate-fade-in transition-all duration-500"
                id="results-section">
                <div class="flex flex-col md:flex-row gap-6 items-start md:items-center justify-between">
                    <div class="flex flex-col gap-2">
                        <h3 class="text-xl font-bold text-text-primary flex items-center gap-2">
                            <span class="material-symbols-outlined text-yellow-500">warning</span>
                            Assessment Result
                        </h3>
                        <div class="flex items-baseline gap-2">
                            <span class="text-text-primary-secondary text-sm">Predicted Stress Level:</span>
                            <span class="text-2xl font-black text-yellow-600">Moderate Stress</span>
                        </div>
                        <p class="text-sm text-text-primary-secondary max-w-lg mt-1">
                            Your responses suggest a moderate level of stress. Consider balancing your study
                            load and increasing social activities.
                        </p>
                    </div>
                    <div class="w-full md:w-1/3 flex flex-col gap-2">
                        <div class="flex justify-between text-xs font-medium text-text-primary-secondary">
                            <span>Confidence Score</span>
                            <span>85%</span>
                        </div>
                        <div class="w-full bg-gray-100 rounded-full h-2.5">
                            <div class="bg-primary h-2.5 rounded-full transition-all duration-1000 ease-out"
                                style="width: 85%"></div>
                        </div>
                    </div>
                </div>
            </section>
            <div class="flex items-center">
                <!-- LEFT -->
                <div class="flex-1">
                    <button type="button" id="prevBtn"
                        class="hidden px-6 py-3 border border-gray-300 rounded-lg font-bold">
                        Previous
                    </button>
                </div>

                <!-- RIGHT -->
                <div class="flex justify-end flex-1">
                    <button type="button" id="nextBtn"
                        class="px-6 py-3 bg-primary text-white rounded-lg font-bold disabled:opacity-50" disabled>
                        Next
                    </button>

                    <button type="submit" id="submitBtn"
                        class="hidden px-6 py-3 bg-primary text-white rounded-lg font-bold">
                        Predict Stress Level
                    </button>
                </div>
            </div>


        </form>
    </div>
</div>

{% endblock %}


{% block extra_scripts %}
<script>
    /* ================= STEPPER CONFIG ================= */
    const steps = document.querySelectorAll(".form-step");
    const totalSteps = steps.length;
    let currentStep = 1;
    let completedSteps = 0;


    /* UI Elements */
    const prevBtn = document.getElementById("prevBtn");
    const nextBtn = document.getElementById("nextBtn");
    const submitBtn = document.getElementById("submitBtn");

    const progressBar = document.getElementById("progressBar");
    const progressPercent = document.getElementById("progressPercent");
    const currentStepText = document.getElementById("currentStep");
    document.getElementById("totalSteps").innerText = totalSteps;

    /* ================= INIT ================= */
    showStep(currentStep);

    /* ================= FUNCTIONS ================= */
    function showStep(step) {
        steps.forEach(s => {
            s.classList.toggle("hidden", Number(s.dataset.step) !== step);
        });

        currentStepText.innerText = step;

        const percent = Math.round((completedSteps / totalSteps) * 100);
        progressBar.style.width = percent + "%";
        progressPercent.innerText = percent + "%";


        prevBtn.classList.toggle("hidden", step === 1);
        nextBtn.classList.toggle("hidden", step === totalSteps);
        submitBtn.classList.toggle("hidden", step !== totalSteps);

        validateStep();
    }

    /* ================= VALIDATION ================= */
    function validateStep() {
        const currentSection = document.querySelector(
            `.form-step[data-step="${currentStep}"]`
        );

        const inputs = currentSection.querySelectorAll("input");
        let valid = true;

        const radioGroups = {};

        inputs.forEach(input => {
            if (input.type === "radio") {
                radioGroups[input.name] = radioGroups[input.name] || false;
                if (input.checked) radioGroups[input.name] = true;
            } else if (input.type === "number" || input.type === "text") {
                if (!input.value.trim()) valid = false;
            }
        });

        Object.values(radioGroups).forEach(groupChecked => {
            if (!groupChecked) valid = false;
        });

        if (currentStep === totalSteps) {
            submitBtn.disabled = !valid;
        } else {
            nextBtn.disabled = !valid;
        }

    }

    /* ================= EVENTS ================= */
    document.addEventListener("input", validateStep);
    document.addEventListener("change", validateStep);

    nextBtn.addEventListener("click", () => {
        if (currentStep < totalSteps) {
            completedSteps = Math.max(completedSteps, currentStep);
            currentStep++;
            showStep(currentStep);
            window.scrollTo({ top: 0, behavior: "smooth" });
        }
    });


    prevBtn.addEventListener("click", () => {
        if (currentStep > 1) {
            currentStep--;
            showStep(currentStep);
            window.scrollTo({ top: 0, behavior: "smooth" });
        }
    });

    /* ================= FINAL SUBMIT ================= */
    document.querySelector("form").addEventListener("submit", e => {
        e.preventDefault();

        // Mark everything complete
        completedSteps = totalSteps;

        // Hide all sections
        document.querySelectorAll(".form-step").forEach(s => s.classList.add("hidden"));

        // Hide navigation buttons
        prevBtn.classList.add("hidden");
        nextBtn.classList.add("hidden");
        submitBtn.classList.add("hidden");

        // Update progress to 100%
        progressBar.style.width = "100%";
        progressPercent.innerText = "100%";

        // Show results
        document.getElementById("results-section").classList.remove("hidden");

        window.scrollTo({
            top: document.body.scrollHeight,
            behavior: "smooth"
        });
    });

</script>

{% endblock %}